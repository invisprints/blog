---
toc: true
layout: post
description: 移动网络简述
categories: [others]
title: 移动网络简述
comments: true
---

# 移动网络简述
最近在研究 4G 和 5G 协议中的 RLC 部分，分享下自己学习的东西。

![](http://ww1.sinaimg.cn/large/a2c78f10ly1fhiks5km7jj21hc0u1hdu.jpg)

<!-- more -->

## 架构
整个移动网络可以看做三个部分，基站、终端和基础设备。

### 基站
先解决个坑，这个简单的东西困惑了我很久。3G 基站叫 NB，LTE（4G）基站叫 eNB，5G 基站叫 gNB。
基站负责无线终端的通信传输。它从无线设备接收数据并向它发送数据。

### 终端
终端简称 UE，它就是无线设备，比如我们生活中的手机啊上网卡啊之类的。

### 基础设备
可以看做基站的后台，基站本身是做不了什么事情的，相关的网络传输都是由基础设备完成。

## 内部结构
这个主要说的是 UE 和 eNB 的内部处理结构。类似于著名的五层因特网协议栈和七层 ISO OSI 参考模型，移动网络由如下五层构成：SDAP, PDCP, RLC, MAC, PHY。
中文名字我觉得没必要了解，了解了也是不知道什么意思。RLC 层和 MAC 层的中文名字可以说一下，因为这样有助于理解。RLC 层中文意思是无线链路层控制协议，MAC 层是媒体介入控制层。
![](http://ww1.sinaimg.cn/large/a2c78f10ly1fhicut6y0fj205003vt8l.jpg)

### RLC
RLC 层主要负责对不同数据采用相适应的协议发送和解析，可靠的协议传输慢，传输快的数据可靠性不高，RLC 就是对这些数据分配不同协议的。
RLC 传输有三种模式，分别是透明模式（TM），非确认模式（UM）和确认模式（AM）。

#### 透明模式
这个最简单了，来什么我发送什么，不作任何处理，速度最快，但是没有任何数据的重复传输和丢失检测。

#### 非确认模式
发送端会对将要发送的数据进行分级重组，以便让每一个分组得到最大利用，同时添加了数据的顺序。
接收端会对数据进行重排序，去除重复接收的并把数据按发送端的发送数据排好。然后再把数据交由上层处理。
该模式速度相对于透明模式慢了不少，但是数据有了顺序并且避免了重复接收。但是由于是单项通讯，不可避免数据丢失。

#### 确认模式
发送端不仅将新数据进行分级重组发送，还会接收接收端的消息。也就是说，发送端和接收端会双向通讯。发送端会主动发送询问接收端没有收到相应的数据，如果没有发送端会重新发送数据。
接收端不仅要完成数据的去重复和排序，还要向发送段发送是否丢失数据，接收发送端发来的重传数据。

想要更深入了解直接看协议文档吧。我画了一个思维导图，估计有帮助大家理解。
![](http://ww1.sinaimg.cn/large/a2c78f10ly1fhidyos833j22gl425kjo.jpg)

